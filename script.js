// Translations
const translations = {
    'pt-BR': {
        'title': 'Portf√≥lio - Leandro Feder',
        'nav.about': 'Sobre',
        'nav.experience': 'Experi√™ncia',
        'nav.skills': 'Habilidades',
        'nav.contact': 'Contato',
        'hero.greeting': 'Ol√°! Sou Leandro Feder',
        'hero.title': 'Desenvolvedor de Software S√™nior',
        'hero.description': 'Especialista em desenvolvimento backend e integra√ß√£o de sistemas com mais de 10 anos de experi√™ncia. Apaixonado por criar solu√ß√µes robustas, escal√°veis e de alta qualidade.',
        'hero.cta': 'Entre em contato',
        'hero.cta2': 'Veja minha experi√™ncia',
        'about.title': 'Sobre Mim',
        'about.text1': 'Sou um desenvolvedor de software s√™nior com forma√ß√£o em Engenharia El√©trica pela UNIASSELVI. Minha jornada come√ßou com eletr√¥nica industrial e evoluiu para desenvolvimento de software de alta complexidade.',
        'about.text2': 'Atualmente atuo como Product Owner e Technical Lead em sistemas de qualidade, onde coordeno desenvolvimento de solu√ß√µes complexas, integra√ß√£o de sistemas e otimiza√ß√£o de processos.',
        'about.text3': 'Sou defensor de c√≥digo limpo, testes automatizados e boas pr√°ticas de engenharia de software. Gosto de trabalhar em equipes colaborativas e sempre busco aprender novas tecnologias.',
        'about.stat1': 'Anos de Experi√™ncia',
        'about.stat2': 'Projetos Conclu√≠dos',
        'about.stat3': 'Linguagens',
        'experience.title': 'Experi√™ncia Profissional',
        'exp.weg.title': 'Senior Software Developer',
        'exp.weg.period': 'jun 2023 - Presente ‚Ä¢ 2 anos 9 meses',
        'exp.weg.lead': 'Product Owner e Technical Lead do Time de Sistemas de Qualidade',
        'exp.weg.r1': 'Desenvolvimento e suporte de sistemas para testes de transformadores',
        'exp.weg.r2': 'Integra√ß√£o entre sistemas de laborat√≥rio e corporativos',
        'exp.weg.r3': 'Comunica√ß√£o entre sistemas de testes e equipamentos de medi√ß√£o',
        'exp.weg.r4': 'Desenvolvimento em Java, JavaScript e LabVIEW',
        'exp.weg.r5': 'Gest√£o e otimiza√ß√£o de desempenho de banco de dados PostgreSQL',
        'exp.weg.r6': 'Automa√ß√£o de sistemas para aumentar efici√™ncia e confiabilidade',
        'exp.zenvia.title': 'Operations Developer',
        'exp.zenvia.period': 'abr 2022 - jun 2023 ‚Ä¢ 1 ano 3 meses',
        'exp.zenvia.location': 'Remoto',
        'exp.zenvia.r1': 'Desenvolvimento de assistentes virtuais (chatbots)',
        'exp.zenvia.r2': 'Desenvolvimento de APIs REST',
        'exp.zenvia.r3': 'Testes unit√°rios de APIs com Jest.js',
        'exp.hdj.title': 'Fitter - T√©cnico em Eletr√¥nica',
        'exp.hdj.period': 'out 2013 - set 2021 ‚Ä¢ 8 anos',
        'exp.hdj.r1': 'Montagem e manuten√ß√£o de placas eletr√¥nicas',
        'exp.hdj.r2': 'Soldagem de componentes eletr√¥nicos',
        'exp.hdj.tag1': 'Eletr√¥nica',
        'exp.hdj.tag2': 'Soldagem',
        'skills.title': 'Habilidades T√©cnicas',
        'skills.backend': 'Backend',
        'skills.frontend': 'Frontend',
        'skills.database': 'Banco de Dados',
        'skills.tools': 'Ferramentas & DevOps',
        'skills.testing': 'Testing & QA',
        'skills.specialized': 'Especializado',
        'contact.title': 'Vamos Conversar?',
        'contact.subtitle': 'Estou aberto a novas oportunidades, projetos interessantes e colabora√ß√µes. Entre em contato via LinkedIn ou GitHub.',
        'contact.email': 'Email',
        'contact.note': 'Atualize os links acima com seus perfis reais',
        'footer': '¬© 2024 Leandro Feder. Todos os direitos reservados.'
    },
    'en': {
        'title': 'Portfolio - Leandro Feder',
        'nav.about': 'About',
        'nav.experience': 'Experience',
        'nav.skills': 'Skills',
        'nav.contact': 'Contact',
        'hero.greeting': 'Hi! I\'m Leandro Feder',
        'hero.title': 'Senior Software Developer',
        'hero.description': 'Expert in backend development and system integration with over 10 years of experience. Passionate about creating robust, scalable, and high-quality solutions.',
        'hero.cta': 'Get in touch',
        'hero.cta2': 'View my experience',
        'about.title': 'About Me',
        'about.text1': 'I\'m a senior software developer with a background in Electrical Engineering from UNIASSELVI. My journey started with industrial electronics and evolved into high-complexity software development.',
        'about.text2': 'Currently I work as a Product Owner and Technical Lead in quality systems, where I coordinate the development of complex solutions, system integration, and process optimization.',
        'about.text3': 'I\'m an advocate for clean code, automated testing, and software engineering best practices. I enjoy working in collaborative teams and am always seeking to learn new technologies.',
        'about.stat1': 'Years of Experience',
        'about.stat2': 'Projects Completed',
        'about.stat3': 'Languages',
        'experience.title': 'Professional Experience',
        'exp.weg.title': 'Senior Software Developer',
        'exp.weg.period': 'Jun 2023 - Present ‚Ä¢ 2 years 9 months',
        'exp.weg.lead': 'Product Owner and Technical Lead of Quality Systems Team',
        'exp.weg.r1': 'Development and support of transformer test systems',
        'exp.weg.r2': 'Integration between laboratory and corporate systems',
        'exp.weg.r3': 'Communication between test systems and measurement equipment',
        'exp.weg.r4': 'Development using Java, JavaScript, and LabVIEW',
        'exp.weg.r5': 'Database management and PostgreSQL performance optimization',
        'exp.weg.r6': 'System automation to increase efficiency and data reliability',
        'exp.zenvia.title': 'Operations Developer',
        'exp.zenvia.period': 'Apr 2022 - Jun 2023 ‚Ä¢ 1 year 3 months',
        'exp.zenvia.location': 'Remote',
        'exp.zenvia.r1': 'Development of virtual assistants (chatbots)',
        'exp.zenvia.r2': 'REST API development',
        'exp.zenvia.r3': 'Unit testing of APIs with Jest.js',
        'exp.hdj.title': 'Fitter - Electronics Technician',
        'exp.hdj.period': 'Oct 2013 - Sep 2021 ‚Ä¢ 8 years',
        'exp.hdj.r1': 'Assembly and maintenance of electronic boards',
        'exp.hdj.r2': 'Soldering of electronic components',
        'exp.hdj.tag1': 'Electronics',
        'exp.hdj.tag2': 'Soldering',
        'skills.title': 'Technical Skills',
        'skills.backend': 'Backend',
        'skills.frontend': 'Frontend',
        'skills.database': 'Database',
        'skills.tools': 'Tools & DevOps',
        'skills.testing': 'Testing & QA',
        'skills.specialized': 'Specialized',
        'contact.title': 'Let\'s Talk?',
        'contact.subtitle': 'I\'m open to new opportunities, interesting projects, and collaborations. Get in touch via LinkedIn or GitHub.',
        'contact.email': 'Email',
        'contact.note': 'Update the links above with your real profiles',
        'footer': '¬© 2024 Leandro Feder. All rights reserved.'
    },
    'es': {
        'title': 'Portafolio - Leandro Feder',
        'nav.about': 'Acerca de',
        'nav.experience': 'Experiencia',
        'nav.skills': 'Habilidades',
        'nav.contact': 'Contacto',
        'hero.greeting': '¬°Hola! Soy Leandro Feder',
        'hero.title': 'Desarrollador de Software S√©nior',
        'hero.description': 'Experto en desarrollo backend e integraci√≥n de sistemas con m√°s de 10 a√±os de experiencia. Apasionado por crear soluciones robustas, escalables y de alta calidad.',
        'hero.cta': 'Ponte en contacto',
        'hero.cta2': 'Ver mi experiencia',
        'about.title': 'Acerca de M√≠',
        'about.text1': 'Soy un desarrollador de software s√©nior con formaci√≥n en Ingenier√≠a El√©ctrica de UNIASSELVI. Mi trayectoria comenz√≥ con electr√≥nica industrial y evolucion√≥ hacia el desarrollo de software de alta complejidad.',
        'about.text2': 'Actualmente trabajo como Product Owner y Technical Lead en sistemas de calidad, donde coordino el desarrollo de soluciones complejas, integraci√≥n de sistemas y optimizaci√≥n de procesos.',
        'about.text3': 'Soy defensor del c√≥digo limpio, pruebas automatizadas y mejores pr√°cticas de ingenier√≠a de software. Me gusta trabajar en equipos colaborativos y siempre busco aprender nuevas tecnolog√≠as.',
        'about.stat1': 'A√±os de Experiencia',
        'about.stat2': 'Proyectos Completados',
        'about.stat3': 'Lenguajes',
        'experience.title': 'Experiencia Profesional',
        'exp.weg.title': 'Desarrollador de Software S√©nior',
        'exp.weg.period': 'Jun 2023 - Presente ‚Ä¢ 2 a√±os 9 meses',
        'exp.weg.lead': 'Product Owner e Ingeniero T√©cnico del Equipo de Sistemas de Calidad',
        'exp.weg.r1': 'Desarrollo y soporte de sistemas de prueba de transformadores',
        'exp.weg.r2': 'Integraci√≥n entre sistemas de laboratorio y corporativos',
        'exp.weg.r3': 'Comunicaci√≥n entre sistemas de prueba y equipos de medici√≥n',
        'exp.weg.r4': 'Desarrollo usando Java, JavaScript y LabVIEW',
        'exp.weg.r5': 'Gesti√≥n de bases de datos y optimizaci√≥n de rendimiento PostgreSQL',
        'exp.weg.r6': 'Automatizaci√≥n de sistemas para aumentar eficiencia y confiabilidad',
        'exp.zenvia.title': 'Desarrollador de Operaciones',
        'exp.zenvia.period': 'Abr 2022 - Jun 2023 ‚Ä¢ 1 a√±o 3 meses',
        'exp.zenvia.location': 'Remoto',
        'exp.zenvia.r1': 'Desarrollo de asistentes virtuales (chatbots)',
        'exp.zenvia.r2': 'Desarrollo de API REST',
        'exp.zenvia.r3': 'Pruebas unitarias de API con Jest.js',
        'exp.hdj.title': 'Ajustador - T√©cnico en Electr√≥nica',
        'exp.hdj.period': 'Oct 2013 - Sep 2021 ‚Ä¢ 8 a√±os',
        'exp.hdj.r1': 'Montaje y mantenimiento de placas electr√≥nicas',
        'exp.hdj.r2': 'Soldadura de componentes electr√≥nicos',
        'exp.hdj.tag1': 'Electr√≥nica',
        'exp.hdj.tag2': 'Soldadura',
        'skills.title': 'Habilidades T√©cnicas',
        'skills.backend': 'Backend',
        'skills.frontend': 'Frontend',
        'skills.database': 'Base de Datos',
        'skills.tools': 'Herramientas y DevOps',
        'skills.testing': 'Pruebas y Control de Calidad',
        'skills.specialized': 'Especializado',
        'contact.title': '¬øHablamos?',
        'contact.subtitle': 'Estoy abierto a nuevas oportunidades, proyectos interesantes y colaboraciones. Comun√≠cate conmigo a trav√©s de LinkedIn o GitHub.',
        'contact.email': 'Correo Electr√≥nico',
        'contact.note': 'Actualiza los enlaces anteriores con tus perfiles reales',
        'footer': '¬© 2024 Leandro Feder. Todos los derechos reservados.'
    }
};

// Current language
let currentLanguage = localStorage.getItem('language') || 'pt-BR';

// Initialize language on page load
document.addEventListener('DOMContentLoaded', function() {
    setLanguage(currentLanguage);
    highlightActiveLanguageButton();
    setupLanguageButtons();
    smoothScroll();
});

// Setup language switcher buttons
function setupLanguageButtons() {
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const lang = this.getAttribute('data-lang');
            setLanguage(lang);
            localStorage.setItem('language', lang);
            highlightActiveLanguageButton();
        });
    });
}

// Set language
function setLanguage(lang) {
    currentLanguage = lang;
    document.documentElement.lang = lang;

    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = translations[lang][key];
        if (translation) {
            if (element.tagName === 'TITLE') {
                element.textContent = translation;
            } else if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translation;
            } else {
                element.textContent = translation;
            }
        }
    });
}

// Highlight active language button
function highlightActiveLanguageButton() {
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === currentLanguage) {
            btn.classList.add('active');
        }
    });
}

// Smooth scroll for anchor links
function smoothScroll() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            const href = this.getAttribute('href');
            if (href !== '#' && document.querySelector(href)) {
                e.preventDefault();
                const target = document.querySelector(href);
                const offset = 80; // navbar height
                const targetPosition = target.offsetTop - offset;

                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });
}

// Scroll reveal animation
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.experience-card, .skill-category, .stat-card').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(20px)';
        el.style.transition = 'all 0.6s ease';
        observer.observe(el);
    });
});

// Navbar scroll effect
window.addEventListener('scroll', function() {
    const navbar = document.querySelector('.navbar');
    if (window.scrollY > 50) {
        navbar.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.3)';
    } else {
        navbar.style.boxShadow = '0 4px 6px -1px rgba(0, 0, 0, 0.1)';
    }
});

// Theme Toggle
let currentTheme = localStorage.getItem('theme') || 'dark';

// Initialize theme on page load
function initializeTheme() {
    setTheme(currentTheme);
}

function setTheme(theme) {
    currentTheme = theme;
    localStorage.setItem('theme', theme);

    if (theme === 'light') {
        document.documentElement.setAttribute('data-theme', 'light');
        const themeIcon = document.querySelector('.theme-icon');
        if (themeIcon) themeIcon.textContent = '‚òÄÔ∏è';
    } else {
        document.documentElement.removeAttribute('data-theme');
        const themeIcon = document.querySelector('.theme-icon');
        if (themeIcon) themeIcon.textContent = 'üåô';
    }
}

function toggleTheme() {
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    setTheme(newTheme);
}

// Setup theme toggle button
document.addEventListener('DOMContentLoaded', function() {
    initializeTheme();
    const themeToggle = document.getElementById('theme-toggle');
    if (themeToggle) {
        themeToggle.addEventListener('click', toggleTheme);
    }
});

// Mobile menu toggle (if you add a hamburger menu later)
const isMobile = window.innerWidth < 768;

// Handle resize
window.addEventListener('resize', function() {
    const nowMobile = window.innerWidth < 768;
    if (nowMobile !== isMobile) {
        location.reload(); // Simple refresh on size change
    }
});